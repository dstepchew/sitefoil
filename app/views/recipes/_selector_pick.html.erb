<div id=selector_pick style='display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:100;'>
	<div style='z-index:101;position:absolute;display:block;background:#fff;width:calc(100% - 100px);left:50px;top:50px;height:calc(100% - 100px);border:1px solid black;padding:40px;'>
	enter site url: <input name=url style='width:100%;'><br>
	found selectors: <br>
	<select id=selectors size="2" style="width: 155px; height: 118px" >
	</select>	
	</div>

	<div style='z-index:100;position:absolute;top:0;left:0;width:100%;height:100%;background:#000;opacity:0.3;'>
	</div>
</div>

<script>
function selector_pick_show() {
		$("#selector_pick").show()
}

$(function() {
	$("#selector_pick input[name=url]").keydown(function(e) {
		if(e.keyCode==13) {
			$("#selector_pick #selectors").html("")
			$.getJSON("/api/page_selectors_scan",{url: $(this).val()},function(resp) {
				for(var i=0;i<resp.length;i++) {
					$("#selector_pick #selectors").append("<option value='"+resp[i]+"'>"+resp[i]+"</option>")
				}
			})
		}
	})

	$(document).on("keydown",function(e) {
		if(e.keyCode==27 && $("#selector_pick").is(":visible")) {
			$("#selector_pick").hide()
		}
	})

	$(document).on("click",".selector_pick",function() {
		selector_pick_show()
	})
})
</script>